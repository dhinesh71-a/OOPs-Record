package tempconverter;

import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class TemperatureConverter extends JFrame implements ActionListener {

    private JTextField inputField;
    private JLabel resultLabel;
    private JButton toCelsiusBtn, toFahrenheitBtn;

    private static final String USER_NAME = "DHINESH KUMAR G";
    private static final String USER_ID = "2117240070071";

    public TemperatureConverter() {

        // Window Title
        setTitle("Temperature Converter");

        // Heading Labels
        JLabel header = new JLabel(USER_NAME + " | " + USER_ID, JLabel.CENTER);
        header.setFont(new Font("Arial", Font.BOLD, 14));

        JLabel title = new JLabel("Temperature Converter", JLabel.CENTER);
        title.setFont(new Font("Arial", Font.BOLD, 18));

        JLabel inputLabel = new JLabel("Enter Temperature:");

        // Input Field
        inputField = new JTextField(10);

        // Buttons
        toCelsiusBtn = new JButton("Convert to Celsius");
        toFahrenheitBtn = new JButton("Convert to Fahrenheit");

        toCelsiusBtn.addActionListener(this);
        toFahrenheitBtn.addActionListener(this);

        // Result Label
        resultLabel = new JLabel("Result will be shown here", JLabel.CENTER);

        // Layout
        setLayout(new GridLayout(7, 1, 10, 10));
        add(header);
        add(title);
        add(inputLabel);
        add(inputField);
        add(toCelsiusBtn);
        add(toFahrenheitBtn);
        add(resultLabel);

        // Window Settings
        setSize(400, 350);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setVisible(true);

        // Console Output (optional)
        System.out.println(USER_NAME);
        System.out.println(USER_ID);
    }

    @Override
    public void actionPerformed(ActionEvent e) {

        String inputText = inputField.getText().trim();

        if (inputText.isEmpty()) {
            JOptionPane.showMessageDialog(this, 
                "Please enter a temperature value!",
                "Error", 
                JOptionPane.ERROR_MESSAGE
            );
            resultLabel.setText("Error: Blank input");
            return;
        }

        try {
            double value = Double.parseDouble(inputText);
            double result;

            if (e.getSource() == toCelsiusBtn) {
                result = (value - 32) * 5.0 / 9.0;
                resultLabel.setText(
                    String.format("%.2f째F = %.2f째C [%s %s]",
                    value, result, USER_NAME, USER_ID)
                );
            } else {
                result = (value * 9.0 / 5.0) + 32;
                resultLabel.setText(
                    String.format("%.2f째C = %.2f째F [%s %s]",
                    value, result, USER_NAME, USER_ID)
                );
            }

        } catch (NumberFormatException ex) {
            JOptionPane.showMessageDialog(this, 
                "Invalid input! Please enter a numeric value.",
                "Error", 
                JOptionPane.ERROR_MESSAGE
            );
            resultLabel.setText("Invalid input");
        }
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> new TemperatureConverter());
    }
}
